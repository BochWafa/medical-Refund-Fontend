<div *ngIf="mode === 1 ">
<div class="card">
  <div class="card-header">
    <strong>Modification </strong> des coordonnées de l'assuré
  </div>
  <div class="card-body card-block">
    <form class="form-horizontal" [formGroup]="form" (ngSubmit)="update()">
      <div class="row form-group">
        <div class="col col-md-3">
          <label for="cin" class=" form-control-label">Cin</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="number" id="cin"  name="cin" formControlName="cin" placeholder="Entrer Votre Cin..." class="form-control" [(ngModel)]="assure.cin">
          <div class="alert alert-danger" *ngIf="(form.get('cin').dirty || form.get('cin').touched) && form.get('cin').invalid">
            <div *ngIf="form.get('cin').errors.required">Le champ <strong>Cin</strong> est obligatoire</div>
            <div *ngIf="form.get('cin').errors.verifyCin">Le champ <strong>Cin</strong> doit être composé de 8 chiffres</div>
          </div>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="mat" class=" form-control-label">Numéro de matricule</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="number" id="mat" name="mat" formControlName="numMatricule" placeholder="Entrer Votre N° De Matriculation..." class="form-control" [(ngModel)]="assure.numMatricule">
          <div class="alert alert-danger" *ngIf="(form.get('numMatricule').touched || form.get('numMatricule').dirty) && form.get('numMatricule').invalid">
            <div *ngIf="form.get('numMatricule').errors.required">Le champ <strong>Numéro de matricule</strong> est obligatoire</div>
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="nom" class=" form-control-label">Nom</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="text" id="nom" name="nom" formControlName="nom" placeholder="Entrer Votre Nom..." class="form-control" [(ngModel)]="assure.nom">
          <div class="alert alert-danger" *ngIf="form.get('nom').touched && form.get('nom').invalid">
            Le champ <strong>Nom</strong> est obligatoire
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="prenom" class=" form-control-label">Prénom</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="text" id="prenom" name="prenom" formControlName="prenom" placeholder="Entrer Votre Prénom..." class="form-control" [(ngModel)]="assure.prenom">
          <div class="alert alert-danger" *ngIf="form.get('prenom').touched && form.get('prenom').invalid">
            Le champ <strong>Prénom</strong> est obligatoire
          </div>
        </div>

      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="email" class=" form-control-label">Email</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="email" id="email" name="email" formControlName="email" placeholder="Entrer Votre Email..." class="form-control" [(ngModel)]="assure.email">
          <div class="alert alert-danger" *ngIf="(form.get('email').touched || form.get('email').dirty) && form.get('email').invalid ">
            <div *ngIf="form.get('email').errors.required">Le champ <strong>Email</strong> est obligatoire</div>
            <div *ngIf="form.get('email').errors.email">Entrer un <strong>email</strong> valide.</div>
          </div>
        </div>

      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="pw" class=" form-control-label">Mot de passe</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="password" id="pw" formControlName="password" name="pw" placeholder="Entrer Votre Mot De Passe..." class="form-control" [(ngModel)]="assure.password">
          <div class="alert alert-danger" *ngIf="(form.get('password').touched || form.get('password').dirty) && form.get('password').invalid">
            <div *ngIf="form.get('password').errors.required">Le champ <strong>Mot de passe</strong> est obligatoire</div>
            <div *ngIf="form.get('password').errors.verifyPassword">Le champs <strong>Mot de passe</strong> doit contenir des chiffres.</div>
            <div *ngIf="form.get('password').errors.minlength">Le champs <strong>Mot de passe </strong> doit être composé de 4 caractères</div>
          </div>
        </div>
      </div>



      <div class="row form-group">
        <div class="col col-md-3">
          <label for="dn" class=" form-control-label">Date de naissance</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="date" id="dn" name="dn" formControlName="dateNaissance"  placeholder="Entrer Votre Date De Naissance..." class="form-control" [(ngModel)]="assure.dateNaissance">
          <div class="alert alert-danger" *ngIf="(form.get('dateNaissance').touched || form.get('dateNaissance').dirty) && form.get('dateNaissance').invalid">
            <div *ngIf="form.get('dateNaissance').errors.required"> Le champ <strong>Date de naissance </strong> est obligatoire.</div>
            <div *ngIf="form.get('dateNaissance').errors.verifyDateNaissance"> Veuillez entrer une date inférieur à celle d'aujourd'hui</div>
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="address" class=" form-control-label">Adresse</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="text" id="address" name="address" formControlName="adresse" placeholder="Entrer Votre Adresse..." class="form-control" [(ngModel)]="assure.adresse">
          <div class="alert alert-danger" *ngIf="form.get('adresse').invalid && ( form.get('adresse').touched || form.get('adresse').dirty) ">
            <div *ngIf="form.get('adresse').errors.required">Le champ <strong>Adresse</strong> est obligatoire</div>
          </div>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="npc" class=" form-control-label">Nombre De Personne En Charge</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="number" id="npc" formControlName="nbrPersonneEnCharge" name="npc" placeholder="Entrer Le Nombre De Personne En Charge..." class="form-control" [(ngModel)]="assure.nbrPersonneEnCharge">
          <div class="alert alert-danger" *ngIf="form.get('nbrPersonneEnCharge').invalid && ( form.get('nbrPersonneEnCharge').touched || form.get('nbrPersonneEnCharge').dirty) ">
            <div *ngIf="form.get('nbrPersonneEnCharge').errors.required">Le champ <strong>Nombre de personne</strong> est obligatoire</div>
          </div>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="nat" class=" form-control-label">Nationnalité</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="text" id="nat" formControlName="nationnalite" name="nat" placeholder="Enter Votre Nationnalité..." class="form-control" [(ngModel)]="assure.nationnalite">
          <div class="alert alert-danger" *ngIf="form.get('nationnalite').invalid && ( form.get('nationnalite').touched || form.get('nationnalite').dirty) ">
            <div *ngIf="form.get('nationnalite').errors.required">Le champ <strong>Nationnalité</strong> est obligatoire</div>
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="sf" class=" form-control-label">Situation familiale</label>
        </div>
        <div class="col-12 col-md-9">
          <select name="sf" id="sf" class="form-control" formControlName="situationFamiliale" [(ngModel)]="assure.situationFamiliale">
            <option value="Marié">Marié</option>
            <option value="Célibataire">Célibataire</option>
            <option value="MariéEnfant">Marié avec enfant(s)</option>
          </select>
          <div class="alert alert-danger" *ngIf="form.get('situationFamiliale').invalid && ( form.get('situationFamiliale').touched || form.get('situationFamiliale').dirty) ">
            <div *ngIf="form.get('situationFamiliale').errors.required">Le champ <strong>Situation Familiale</strong> est obligatoire</div>
          </div>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="salaire" class=" form-control-label">Salaire</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="number" id="salaire" formControlName="salaire" name="salaire" placeholder="Enter Salaire..." class="form-control" [(ngModel)]="assure.salaire">
          <div class="alert alert-danger" *ngIf="form.get('salaire').invalid && ( form.get('salaire').touched || form.get('salaire').dirty) ">
            <div *ngIf="form.get('salaire').errors.required">Le champ <strong>Salaire</strong> est obligatoire</div>
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="nc" class=" form-control-label">Nom Du Conjoint</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="text" id="nc" name="nc" formControlName="nomConjoint" placeholder="Enter Le Nom De Votre Conjoint..." class="form-control" [(ngModel)]="assure.nomConjoint">
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="na" class=" form-control-label">Numéro d'affiliation Cnam</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="number" id="na" formControlName="numAffiliationCnam" name="na" placeholder="Enter Votre Numéro d'Affiliation Cnam..." class="form-control" [(ngModel)]="assure.numAffiliationCnam">
          <div class="alert alert-danger" *ngIf="form.get('numAffiliationCnam').invalid && ( form.get('numAffiliationCnam').touched || form.get('numAffiliationCnam').dirty) ">
            <div *ngIf="form.get('numAffiliationCnam').errors.required">Le champ <strong>Numéro d'affiliation Cnam</strong> est obligatoire</div>
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="filiere" class=" form-control-label">Filière CNAM</label>
        </div>
        <div class="col-12 col-md-9">
          <select name="filiere" id="filiere" class="form-control" formControlName="filiereCnam" [(ngModel)]="assure.filiereCnam">
            <option value="Publique" >Publique</option>
            <option value="Privé">Privé</option>
            <option value="Remboursement">Remboursement</option>
          </select>
          <div class="alert alert-danger" *ngIf="form.get('filiereCnam').invalid && ( form.get('filiereCnam').touched || form.get('filiereCnam').dirty) ">
            <div *ngIf="form.get('filiereCnam').errors.required">Le champ <strong>Filière Cnam</strong> est obligatoire</div>
          </div>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="filegat" class=" form-control-label">Fiche D'Affiliation CNAM</label>
        </div>
        <div class="col-12 col-md-9">
          <input type="file" id="filegat" name="filegat" class="form-control-file" formControlName="urlFichierAffiliation" >
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="role" class=" form-control-label">Rôle</label>
        </div>
        <div class="col-12 col-md-9">
          <select name="role" id="role" class="form-control" formControlName="role" [(ngModel)]="assure.role">
            <option value="PDG">PDG</option>
            <option value="ChefProjet">Chef de projet</option>
            <option value="Développeur" >Développeur</option>
            <option value="Commerciale" >Commerciale</option>

          </select>
          <div class="alert alert-danger" *ngIf="form.get('role').invalid && ( form.get('role').touched || form.get('role').dirty) ">
            <div *ngIf="form.get('role').errors.required">Le champ <strong> Rôle </strong> est obligatoire</div>
          </div>
        </div>
      </div>

      <div class="card-footer">
        <button type="submit" class="btn btn-primary btn-sm" [disabled]="!form.valid">
          <i class="fa fa-dot-circle-o"></i>  Valider le(s) modification(s)
        </button>
        &nbsp;&nbsp;&nbsp;
        <button type="reset" class="btn btn-danger btn-sm">
          <i class="fa fa-ban"></i> Reset
        </button>
      </div>

    </form>
  </div>
</div>
</div>
<div *ngIf="mode === 2">
  <div class="card">
    <div class="card-header">
      <strong><i class="fas fa-check"></i>&nbsp;&nbsp;&nbsp;Confirmation </strong> de(s) modification(s)
    </div>
    <div class="card-body card-block">



      <div class="row form-group">
        <div class="col col-md-3">
          <label for="cin" class=" form-control-label">Cin: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.cin}}</label>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="mat" class=" form-control-label">Numéro de matricule: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.numMatricule}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="nom" class=" form-control-label">Nom: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.nom}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="prenom" class=" form-control-label">Prénom: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.prenom}}</label>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="email" class=" form-control-label">Email: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.email}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="dn" class=" form-control-label">Date de naissance: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.dateNaissance}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="address" class=" form-control-label">Adresse: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.adresse}}</label>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="npc" class=" form-control-label">Nombre De Personne En Charge: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.nbrPersonneEnCharge}}</label>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="nat" class=" form-control-label">Nationnalité: &nbsp;&nbsp;&nbsp;&nbsp;</label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.nationnalite}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="sf" class=" form-control-label">Situation familiale: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.situationFamiliale}}</label>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="salaire" class=" form-control-label">Salaire: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.salaire}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="nc" class=" form-control-label">Nom Du Conjoint: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.nomConjoint }}</label>
        </div>
      </div>

      <div class="row form-group">
        <div class="col col-md-3">
          <label for="na" class=" form-control-label">Numéro d'affiliation Cnam: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.numAffiliationCnam}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="filiere" class=" form-control-label">Filière CNAM: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.filiereCnam}}</label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="filegat" class=" form-control-label">Fiche D'Affiliation CNAM: </label>
        </div>
        <div class="col-12 col-md-9">
          <label><a><i class="fa fa-download"></i> Download</a></label>
        </div>
      </div>


      <div class="row form-group">
        <div class="col col-md-3">
          <label for="role" class=" form-control-label">Rôle: </label>
        </div>
        <div class="col-12 col-md-9">
          <label>{{assure.role}}</label>
        </div>
      </div>

    </div>

  </div>
</div>
